starting build

**********************************************************************

Test build
build xv6 using make

**********************************************************************
Trying to build project using make
make kernel fs.img
make: Nothing to be done for 'kernel'.
make: 'fs.img' is up to date.


test build PASSED
 (build xv6 using make)

starting getpinfo

**********************************************************************

Test getpinfo
call getpinfo() from a user program 
 The corresponding test file is at https://gitlab.com/AOSUC/Lab/Tests/P2/getpinfo.c

**********************************************************************
Running xv6 user progam ./../../../Tests/P2/ctests/getpinfo.c
Trying to build project using make
make kernel fs.img
make: Nothing to be done for 'kernel'.
riscv64-linux-gnu-gcc -Wall -Werror -O0 -fno-omit-frame-pointer -ggdb -MD -mcmodel=medany -ffreestanding -fno-common -nostdlib -mno-relax -I. -fno-stack-protector -fno-pie -no-pie   -c -o user/tester.o user/tester.c
riscv64-linux-gnu-ld -z max-page-size=4096 -N -e main -Ttext 0 -o user/_tester user/tester.o user/ulib.o user/usys.o user/printf.o user/umalloc.o
riscv64-linux-gnu-objdump -S user/_tester > user/tester.asm
riscv64-linux-gnu-objdump -t user/_tester | sed '1,/SYMBOL TABLE/d; s/ .* / /; /^$/d' > user/tester.sym
mkfs/mkfs fs.img README user/_cat user/_echo user/_forktest user/_grep user/_init user/_kill user/_ln user/_ls user/_mkdir user/_rm user/_sh user/_stressfs user/_usertests user/_grind user/_wc user/_zombie user/_tester user/_ps user/_check_hticks 
nmeta 46 (boot, super, log blocks 30 inode blocks 13, bitmap blocks 1) blocks 954 total 1000
balloc: first 469 blocks have been allocated
balloc: write bitmap block at sector 45
make qemu CPUS=1
riscv64-linux-gnu-gcc -Wall -Werror -O0 -fno-omit-frame-pointer -ggdb -MD -mcmodel=medany -ffreestanding -fno-common -nostdlib -mno-relax -I. -fno-stack-protector -fno-pie -no-pie   -c -o kernel/proc.o kernel/proc.c
riscv64-linux-gnu-ld -z max-page-size=4096 -T kernel/kernel.ld -o kernel/kernel kernel/entry.o kernel/start.o kernel/console.o kernel/printf.o kernel/uart.o kernel/kalloc.o kernel/spinlock.o kernel/string.o kernel/main.o kernel/vm.o kernel/proc.o kernel/swtch.o kernel/trampoline.o kernel/trap.o kernel/syscall.o kernel/sysproc.o kernel/bio.o kernel/fs.o kernel/log.o kernel/sleeplock.o kernel/file.o kernel/pipe.o kernel/exec.o kernel/sysfile.o kernel/kernelvec.o kernel/plic.o kernel/virtio_disk.o 
riscv64-linux-gnu-objdump -S kernel/kernel > kernel/kernel.asm
riscv64-linux-gnu-objdump -t kernel/kernel | sed '1,/SYMBOL TABLE/d; s/ .* / /; /^$/d' > kernel/kernel.sym
qemu-system-riscv64 -machine virt -bios none -kernel kernel/kernel -m 128M -smp 1 -nographic -drive file=fs.img,if=none,format=raw,id=x0 -device virtio-blk-device,drive=x0,bus=virtio-mmio-bus.0

xv6 kernel is booting

init: starting sh
$ tester
tester

 **** PInfo **** 
pid: 1 hticks: 0 lticks: 23
pid: 2 hticks: 0 lticks: 10
pid: 3 hticks: 0 lticks: 7
Should print 1 then 2

test getpinfo PASSED (10 of 10)
 (call getpinfo() from a user program 
 The corresponding test file is at https://gitlab.com/AOSUC/Lab/Tests/P2/getpinfo.c)

starting setpri

**********************************************************************

Test setpri
call setpri() from a user program 
 The corresponding test file is at https://gitlab.com/AOSUC/Lab/Tests/P2/setpri.c

**********************************************************************
Running xv6 user progam ./../../../Tests/P2/ctests/setpri.c
Trying to build project using make
make kernel fs.img
make: Nothing to be done for 'kernel'.
riscv64-linux-gnu-gcc -Wall -Werror -O0 -fno-omit-frame-pointer -ggdb -MD -mcmodel=medany -ffreestanding -fno-common -nostdlib -mno-relax -I. -fno-stack-protector -fno-pie -no-pie   -c -o user/tester.o user/tester.c
riscv64-linux-gnu-ld -z max-page-size=4096 -N -e main -Ttext 0 -o user/_tester user/tester.o user/ulib.o user/usys.o user/printf.o user/umalloc.o
riscv64-linux-gnu-objdump -S user/_tester > user/tester.asm
riscv64-linux-gnu-objdump -t user/_tester | sed '1,/SYMBOL TABLE/d; s/ .* / /; /^$/d' > user/tester.sym
mkfs/mkfs fs.img README user/_cat user/_echo user/_forktest user/_grep user/_init user/_kill user/_ln user/_ls user/_mkdir user/_rm user/_sh user/_stressfs user/_usertests user/_grind user/_wc user/_zombie user/_tester user/_ps user/_check_hticks 
nmeta 46 (boot, super, log blocks 30 inode blocks 13, bitmap blocks 1) blocks 954 total 1000
balloc: first 469 blocks have been allocated
balloc: write bitmap block at sector 45
make qemu CPUS=1
qemu-system-riscv64 -machine virt -bios none -kernel kernel/kernel -m 128M -smp 1 -nographic -drive file=fs.img,if=none,format=raw,id=x0 -device virtio-blk-device,drive=x0,bus=virtio-mmio-bus.0

xv6 kernel is booting

init: starting sh
$ tester
tester
Should print 1 then 2

test setpri PASSED (10 of 10)
 (call setpri() from a user program 
 The corresponding test file is at https://gitlab.com/AOSUC/Lab/Tests/P2/setpri.c)

starting processesinuse

**********************************************************************

Test processesinuse
check number of processes in use by calling getpinfo() 
 The corresponding test file is at https://gitlab.com/AOSUC/Lab/Tests/P2/processesinuse.c

**********************************************************************
Running xv6 user progam ./../../../Tests/P2/ctests/processesinuse.c
Trying to build project using make
make kernel fs.img
make: Nothing to be done for 'kernel'.
riscv64-linux-gnu-gcc -Wall -Werror -O0 -fno-omit-frame-pointer -ggdb -MD -mcmodel=medany -ffreestanding -fno-common -nostdlib -mno-relax -I. -fno-stack-protector -fno-pie -no-pie   -c -o user/tester.o user/tester.c
riscv64-linux-gnu-ld -z max-page-size=4096 -N -e main -Ttext 0 -o user/_tester user/tester.o user/ulib.o user/usys.o user/printf.o user/umalloc.o
riscv64-linux-gnu-objdump -S user/_tester > user/tester.asm
riscv64-linux-gnu-objdump -t user/_tester | sed '1,/SYMBOL TABLE/d; s/ .* / /; /^$/d' > user/tester.sym
mkfs/mkfs fs.img README user/_cat user/_echo user/_forktest user/_grep user/_init user/_kill user/_ln user/_ls user/_mkdir user/_rm user/_sh user/_stressfs user/_usertests user/_grind user/_wc user/_zombie user/_tester user/_ps user/_check_hticks 
nmeta 46 (boot, super, log blocks 30 inode blocks 13, bitmap blocks 1) blocks 954 total 1000
balloc: first 470 blocks have been allocated
balloc: write bitmap block at sector 45
make qemu CPUS=1
qemu-system-riscv64 -machine virt -bios none -kernel kernel/kernel -m 128M -smp 1 -nographic -drive file=fs.img,if=none,format=raw,id=x0 -device virtio-blk-device,drive=x0,bus=virtio-mmio-bus.0

xv6 kernel is booting

init: starting sh
$ tester
tester

**** PInfo ****
pid: 1 hticks: 0 lticks: 23
pid: 2 hticks: 0 lticks: 10
pid: 3 hticks: 0 lticks: 79
pid: 4 hticks: 0 lticks: 72
pid: 5 hticks: 0 lticks: 72
pid: 6 hticks: 0 lticks: 72
pid: 7 hticks: 0 lticks: 72
pid: 8 hticks: 0 lticks: 72
pid: 9 hticks: 0 lticks: 72
pid: 10 hticks: 0 lticks: 72
Number of processes in use 10
Should print 1 then 2

test processesinuse PASSED (20 of 20)
 (check number of processes in use by calling getpinfo() 
 The corresponding test file is at https://gitlab.com/AOSUC/Lab/Tests/P2/processesinuse.c)

starting default_priority

**********************************************************************

Test default_priority
check default priority set for processes by measuring hticks 
 The corresponding test file is at https://gitlab.com/AOSUC/Lab/Tests/P2/default_priority.c

**********************************************************************
Running xv6 user progam ./../../../Tests/P2/ctests/default_priority.c
Trying to build project using make
make kernel fs.img
make: Nothing to be done for 'kernel'.
riscv64-linux-gnu-gcc -Wall -Werror -O0 -fno-omit-frame-pointer -ggdb -MD -mcmodel=medany -ffreestanding -fno-common -nostdlib -mno-relax -I. -fno-stack-protector -fno-pie -no-pie   -c -o user/tester.o user/tester.c
riscv64-linux-gnu-ld -z max-page-size=4096 -N -e main -Ttext 0 -o user/_tester user/tester.o user/ulib.o user/usys.o user/printf.o user/umalloc.o
riscv64-linux-gnu-objdump -S user/_tester > user/tester.asm
riscv64-linux-gnu-objdump -t user/_tester | sed '1,/SYMBOL TABLE/d; s/ .* / /; /^$/d' > user/tester.sym
mkfs/mkfs fs.img README user/_cat user/_echo user/_forktest user/_grep user/_init user/_kill user/_ln user/_ls user/_mkdir user/_rm user/_sh user/_stressfs user/_usertests user/_grind user/_wc user/_zombie user/_tester user/_ps user/_check_hticks 
nmeta 46 (boot, super, log blocks 30 inode blocks 13, bitmap blocks 1) blocks 954 total 1000
balloc: first 470 blocks have been allocated
balloc: write bitmap block at sector 45
make qemu CPUS=1
qemu-system-riscv64 -machine virt -bios none -kernel kernel/kernel -m 128M -smp 1 -nographic -drive file=fs.img,if=none,format=raw,id=x0 -device virtio-blk-device,drive=x0,bus=virtio-mmio-bus.0

xv6 kernel is booting

init: starting sh
$ tester
tester

 **** PInfo **** 
pid: 1 hticks: 0 lticks: 23
pid: 2 hticks: 0 lticks: 10
pid: 3 hticks: 0 lticks: 106
Should print 1 then 2

test default_priority PASSED (20 of 20)
 (check default priority set for processes by measuring hticks 
 The corresponding test file is at https://gitlab.com/AOSUC/Lab/Tests/P2/default_priority.c)

starting check_hticks

**********************************************************************

Test check_hticks
check if hticks being incremented for high priority process 
 The corresponding test file is at https://gitlab.com/AOSUC/Lab/Tests/P2/check_hticks.c

**********************************************************************
Running xv6 user progam ./../../../Tests/P2/ctests/check_hticks.c
Trying to build project using make
make kernel fs.img
make: Nothing to be done for 'kernel'.
riscv64-linux-gnu-gcc -Wall -Werror -O0 -fno-omit-frame-pointer -ggdb -MD -mcmodel=medany -ffreestanding -fno-common -nostdlib -mno-relax -I. -fno-stack-protector -fno-pie -no-pie   -c -o user/tester.o user/tester.c
riscv64-linux-gnu-ld -z max-page-size=4096 -N -e main -Ttext 0 -o user/_tester user/tester.o user/ulib.o user/usys.o user/printf.o user/umalloc.o
riscv64-linux-gnu-objdump -S user/_tester > user/tester.asm
riscv64-linux-gnu-objdump -t user/_tester | sed '1,/SYMBOL TABLE/d; s/ .* / /; /^$/d' > user/tester.sym
mkfs/mkfs fs.img README user/_cat user/_echo user/_forktest user/_grep user/_init user/_kill user/_ln user/_ls user/_mkdir user/_rm user/_sh user/_stressfs user/_usertests user/_grind user/_wc user/_zombie user/_tester user/_ps user/_check_hticks 
nmeta 46 (boot, super, log blocks 30 inode blocks 13, bitmap blocks 1) blocks 954 total 1000
balloc: first 471 blocks have been allocated
balloc: write bitmap block at sector 45
make qemu CPUS=1
qemu-system-riscv64 -machine virt -bios none -kernel kernel/kernel -m 128M -smp 1 -nographic -drive file=fs.img,if=none,format=raw,id=x0 -device virtio-blk-device,drive=x0,bus=virtio-mmio-bus.0

xv6 kernel is booting

init: starting sh
$ tester
tester

 **** PInfo Before**** 
pid: 1 hticks: 0 lticks: 22
pid: 2 hticks: 0 lticks: 11
pid: 3 hticks: 0 lticks: 6

 **** PInfo After**** 
pid: 1 hticks: 0 lticks: 22
pid: 2 hticks: 0 lticks: 11
pid: 3 hticks: 101 lticks: 6
Should print 1 then 2

test check_hticks PASSED (20 of 20)
 (check if hticks being incremented for high priority process 
 The corresponding test file is at https://gitlab.com/AOSUC/Lab/Tests/P2/check_hticks.c)

starting change_priority

**********************************************************************

Test change_priority
check if hticks and lticks being incremented as expected when the priority is changed back and forth 
 The corresponding test file is at https://gitlab.com/AOSUC/Lab/Tests/P2/change_priority.c

**********************************************************************
Running xv6 user progam ./../../../Tests/P2/ctests/change_priority.c
Trying to build project using make
make kernel fs.img
make: Nothing to be done for 'kernel'.
riscv64-linux-gnu-gcc -Wall -Werror -O0 -fno-omit-frame-pointer -ggdb -MD -mcmodel=medany -ffreestanding -fno-common -nostdlib -mno-relax -I. -fno-stack-protector -fno-pie -no-pie   -c -o user/tester.o user/tester.c
riscv64-linux-gnu-ld -z max-page-size=4096 -N -e main -Ttext 0 -o user/_tester user/tester.o user/ulib.o user/usys.o user/printf.o user/umalloc.o
riscv64-linux-gnu-objdump -S user/_tester > user/tester.asm
riscv64-linux-gnu-objdump -t user/_tester | sed '1,/SYMBOL TABLE/d; s/ .* / /; /^$/d' > user/tester.sym
mkfs/mkfs fs.img README user/_cat user/_echo user/_forktest user/_grep user/_init user/_kill user/_ln user/_ls user/_mkdir user/_rm user/_sh user/_stressfs user/_usertests user/_grind user/_wc user/_zombie user/_tester user/_ps user/_check_hticks 
nmeta 46 (boot, super, log blocks 30 inode blocks 13, bitmap blocks 1) blocks 954 total 1000
balloc: first 471 blocks have been allocated
balloc: write bitmap block at sector 45
make qemu CPUS=1
qemu-system-riscv64 -machine virt -bios none -kernel kernel/kernel -m 128M -smp 1 -nographic -drive file=fs.img,if=none,format=raw,id=x0 -device virtio-blk-device,drive=x0,bus=virtio-mmio-bus.0

xv6 kernel is booting

init: starting sh
$ tester
tester

 ****PInfo before**** 
pid: 1 hticks: 0 lticks: 23
pid: 2 hticks: 0 lticks: 10
pid: 3 hticks: 0 lticks: 8

 ****PInfo after**** 
pid: 1 hticks: 0 lticks: 23
pid: 2 hticks: 0 lticks: 10
pid: 3 hticks: 100 lticks: 8

 ****PInfo before**** 
pid: 1 hticks: 0 lticks: 23
pid: 2 hticks: 0 lticks: 10
pid: 3 hticks: 101 lticks: 8

 ****PInfo after**** 
pid: 1 hticks: 0 lticks: 23
pid: 2 hticks: 0 lticks: 10
pid: 3 hticks: 101 lticks: 108
Should print 1 then 2

test change_priority PASSED (20 of 20)
 (check if hticks and lticks being incremented as expected when the priority is changed back and forth 
 The corresponding test file is at https://gitlab.com/AOSUC/Lab/Tests/P2/change_priority.c)

starting run_high_priority

**********************************************************************

Test run_high_priority
check no low priority processes are running when there is high priority 
 The corresponding test file is at https://gitlab.com/AOSUC/Lab/Tests/P2/run_high_priority.c

**********************************************************************
Running xv6 user progam ./../../../Tests/P2/ctests/run_high_priority.c
Trying to build project using make
make kernel fs.img
make: Nothing to be done for 'kernel'.
riscv64-linux-gnu-gcc -Wall -Werror -O0 -fno-omit-frame-pointer -ggdb -MD -mcmodel=medany -ffreestanding -fno-common -nostdlib -mno-relax -I. -fno-stack-protector -fno-pie -no-pie   -c -o user/tester.o user/tester.c
riscv64-linux-gnu-ld -z max-page-size=4096 -N -e main -Ttext 0 -o user/_tester user/tester.o user/ulib.o user/usys.o user/printf.o user/umalloc.o
riscv64-linux-gnu-objdump -S user/_tester > user/tester.asm
riscv64-linux-gnu-objdump -t user/_tester | sed '1,/SYMBOL TABLE/d; s/ .* / /; /^$/d' > user/tester.sym
mkfs/mkfs fs.img README user/_cat user/_echo user/_forktest user/_grep user/_init user/_kill user/_ln user/_ls user/_mkdir user/_rm user/_sh user/_stressfs user/_usertests user/_grind user/_wc user/_zombie user/_tester user/_ps user/_check_hticks 
nmeta 46 (boot, super, log blocks 30 inode blocks 13, bitmap blocks 1) blocks 954 total 1000
balloc: first 471 blocks have been allocated
balloc: write bitmap block at sector 45
make qemu CPUS=1
qemu-system-riscv64 -machine virt -bios none -kernel kernel/kernel -m 128M -smp 1 -nographic -drive file=fs.img,if=none,format=raw,id=x0 -device virtio-blk-device,drive=x0,bus=virtio-mmio-bus.0

xv6 kernel is booting

init: starting sh
$ tester
tester

 ****PInfo before**** 
pid: 1 hticks: 0 lticks: 23
pid: 2 hticks: 0 lticks: 10
pid: 3 hticks: 0 lticks: 8
pid: 4 hticks: 0 lticks: 1

 ****PInfo after**** 
pid: 1 hticks: 0 lticks: 23
pid: 2 hticks: 0 lticks: 10
pid: 3 hticks: 0 lticks: 8
pid: 4 hticks: 41 lticks: 1
Should print 1 then 2

test run_high_priority PASSED (20 of 20)
 (check no low priority processes are running when there is high priority 
 The corresponding test file is at https://gitlab.com/AOSUC/Lab/Tests/P2/run_high_priority.c)

starting sleep_high_priority

**********************************************************************

Test sleep_high_priority
check if low priority processes run when high priority is put to sleep 
 The corresponding test file is at https://gitlab.com/AOSUC/Lab/Tests/P2/sleep_high_priority.c

**********************************************************************
Running xv6 user progam ./../../../Tests/P2/ctests/sleep_high_priority.c
Trying to build project using make
make kernel fs.img
make: Nothing to be done for 'kernel'.
riscv64-linux-gnu-gcc -Wall -Werror -O0 -fno-omit-frame-pointer -ggdb -MD -mcmodel=medany -ffreestanding -fno-common -nostdlib -mno-relax -I. -fno-stack-protector -fno-pie -no-pie   -c -o user/tester.o user/tester.c
riscv64-linux-gnu-ld -z max-page-size=4096 -N -e main -Ttext 0 -o user/_tester user/tester.o user/ulib.o user/usys.o user/printf.o user/umalloc.o
riscv64-linux-gnu-objdump -S user/_tester > user/tester.asm
riscv64-linux-gnu-objdump -t user/_tester | sed '1,/SYMBOL TABLE/d; s/ .* / /; /^$/d' > user/tester.sym
mkfs/mkfs fs.img README user/_cat user/_echo user/_forktest user/_grep user/_init user/_kill user/_ln user/_ls user/_mkdir user/_rm user/_sh user/_stressfs user/_usertests user/_grind user/_wc user/_zombie user/_tester user/_ps user/_check_hticks 
nmeta 46 (boot, super, log blocks 30 inode blocks 13, bitmap blocks 1) blocks 954 total 1000
balloc: first 471 blocks have been allocated
balloc: write bitmap block at sector 45
make qemu CPUS=1
qemu-system-riscv64 -machine virt -bios none -kernel kernel/kernel -m 128M -smp 1 -nographic -drive file=fs.img,if=none,format=raw,id=x0 -device virtio-blk-device,drive=x0,bus=virtio-mmio-bus.0

xv6 kernel is booting

init: starting sh
$ tester
tester

 ****PInfo before**** 
pid: 1 hticks: 0 lticks: 23
pid: 2 hticks: 0 lticks: 10
pid: 3 hticks: 0 lticks: 108
pid: 4 hticks: 0 lticks: 100

 ****PInfo after**** 
pid: 1 hticks: 0 lticks: 23
pid: 2 hticks: 0 lticks: 10
pid: 3 hticks: 500 lticks: 108
pid: 4 hticks: 0 lticks: 600
Should print 1 then 2

test sleep_high_priority PASSED (20 of 20)
 (check if low priority processes run when high priority is put to sleep 
 The corresponding test file is at https://gitlab.com/AOSUC/Lab/Tests/P2/sleep_high_priority.c)

starting awake_high_priority

**********************************************************************

Test awake_high_priority
check if only high priority process run when high priority is awake from sleep 
 The corresponding test file is at https://gitlab.com/AOSUC/Lab/Tests/P2/awake_high_priority.c

**********************************************************************
Running xv6 user progam ./../../../Tests/P2/ctests/awake_high_priority.c
Trying to build project using make
make kernel fs.img
make: Nothing to be done for 'kernel'.
riscv64-linux-gnu-gcc -Wall -Werror -O0 -fno-omit-frame-pointer -ggdb -MD -mcmodel=medany -ffreestanding -fno-common -nostdlib -mno-relax -I. -fno-stack-protector -fno-pie -no-pie   -c -o user/tester.o user/tester.c
riscv64-linux-gnu-ld -z max-page-size=4096 -N -e main -Ttext 0 -o user/_tester user/tester.o user/ulib.o user/usys.o user/printf.o user/umalloc.o
riscv64-linux-gnu-objdump -S user/_tester > user/tester.asm
riscv64-linux-gnu-objdump -t user/_tester | sed '1,/SYMBOL TABLE/d; s/ .* / /; /^$/d' > user/tester.sym
mkfs/mkfs fs.img README user/_cat user/_echo user/_forktest user/_grep user/_init user/_kill user/_ln user/_ls user/_mkdir user/_rm user/_sh user/_stressfs user/_usertests user/_grind user/_wc user/_zombie user/_tester user/_ps user/_check_hticks 
nmeta 46 (boot, super, log blocks 30 inode blocks 13, bitmap blocks 1) blocks 954 total 1000
balloc: first 471 blocks have been allocated
balloc: write bitmap block at sector 45
make qemu CPUS=1
qemu-system-riscv64 -machine virt -bios none -kernel kernel/kernel -m 128M -smp 1 -nographic -drive file=fs.img,if=none,format=raw,id=x0 -device virtio-blk-device,drive=x0,bus=virtio-mmio-bus.0

xv6 kernel is booting

init: starting sh
$ tester
tester

 ****PInfo before**** 
pid: 1 hticks: 0 lticks: 23
pid: 2 hticks: 0 lticks: 10
pid: 3 hticks: 200 lticks: 7
pid: 4 hticks: 0 lticks: 200
pid: 5 hticks: 0 lticks: 100

 ****PInfo after**** 
pid: 1 hticks: 0 lticks: 23
pid: 2 hticks: 0 lticks: 10
pid: 3 hticks: 399 lticks: 7
pid: 4 hticks: 0 lticks: 200
pid: 5 hticks: 0 lticks: 100
Should print 1 then 2

test awake_high_priority PASSED (20 of 20)
 (check if only high priority process run when high priority is awake from sleep 
 The corresponding test file is at https://gitlab.com/AOSUC/Lab/Tests/P2/awake_high_priority.c)

starting multiple_high_priority

**********************************************************************

Test multiple_high_priority
check if multiple high priority processes run in round robin 
 The corresponding test file is at https://gitlab.com/AOSUC/Lab/Tests/P2/multiple_high_priority.c

**********************************************************************
Running xv6 user progam ./../../../Tests/P2/ctests/multiple_high_priority.c
Trying to build project using make
make kernel fs.img
make: Nothing to be done for 'kernel'.
riscv64-linux-gnu-gcc -Wall -Werror -O0 -fno-omit-frame-pointer -ggdb -MD -mcmodel=medany -ffreestanding -fno-common -nostdlib -mno-relax -I. -fno-stack-protector -fno-pie -no-pie   -c -o user/tester.o user/tester.c
riscv64-linux-gnu-ld -z max-page-size=4096 -N -e main -Ttext 0 -o user/_tester user/tester.o user/ulib.o user/usys.o user/printf.o user/umalloc.o
riscv64-linux-gnu-objdump -S user/_tester > user/tester.asm
riscv64-linux-gnu-objdump -t user/_tester | sed '1,/SYMBOL TABLE/d; s/ .* / /; /^$/d' > user/tester.sym
mkfs/mkfs fs.img README user/_cat user/_echo user/_forktest user/_grep user/_init user/_kill user/_ln user/_ls user/_mkdir user/_rm user/_sh user/_stressfs user/_usertests user/_grind user/_wc user/_zombie user/_tester user/_ps user/_check_hticks 
nmeta 46 (boot, super, log blocks 30 inode blocks 13, bitmap blocks 1) blocks 954 total 1000
balloc: first 471 blocks have been allocated
balloc: write bitmap block at sector 45
make qemu CPUS=1
qemu-system-riscv64 -machine virt -bios none -kernel kernel/kernel -m 128M -smp 1 -nographic -drive file=fs.img,if=none,format=raw,id=x0 -device virtio-blk-device,drive=x0,bus=virtio-mmio-bus.0

xv6 kernel is booting

init: starting sh
$ tester
tester

 ****PInfo before**** 
pid: 1 hticks: 0 lticks: 23
pid: 2 hticks: 0 lticks: 10
pid: 3 hticks: 200 lticks: 8
pid: 4 hticks: 199 lticks: 1
pid: 5 hticks: 0 lticks: 200

 ****PInfo after**** 
pid: 1 hticks: 0 lticks: 23
pid: 2 hticks: 0 lticks: 10
pid: 3 hticks: 301 lticks: 8
pid: 4 hticks: 298 lticks: 1
pid: 5 hticks: 0 lticks: 200
Should print 1 then 2

test multiple_high_priority PASSED (20 of 20)
 (check if multiple high priority processes run in round robin 
 The corresponding test file is at https://gitlab.com/AOSUC/Lab/Tests/P2/multiple_high_priority.c)

**********************************************************************
Summary:
test build PASSED
 (build xv6 using make)

test getpinfo PASSED (10 of 10)
 (call getpinfo() from a user program 
 The corresponding test file is at https://gitlab.com/AOSUC/Lab/Tests/P2/getpinfo.c)

test setpri PASSED (10 of 10)
 (call setpri() from a user program 
 The corresponding test file is at https://gitlab.com/AOSUC/Lab/Tests/P2/setpri.c)

test processesinuse PASSED (20 of 20)
 (check number of processes in use by calling getpinfo() 
 The corresponding test file is at https://gitlab.com/AOSUC/Lab/Tests/P2/processesinuse.c)

test default_priority PASSED (20 of 20)
 (check default priority set for processes by measuring hticks 
 The corresponding test file is at https://gitlab.com/AOSUC/Lab/Tests/P2/default_priority.c)

test check_hticks PASSED (20 of 20)
 (check if hticks being incremented for high priority process 
 The corresponding test file is at https://gitlab.com/AOSUC/Lab/Tests/P2/check_hticks.c)

test change_priority PASSED (20 of 20)
 (check if hticks and lticks being incremented as expected when the priority is changed back and forth 
 The corresponding test file is at https://gitlab.com/AOSUC/Lab/Tests/P2/change_priority.c)

test run_high_priority PASSED (20 of 20)
 (check no low priority processes are running when there is high priority 
 The corresponding test file is at https://gitlab.com/AOSUC/Lab/Tests/P2/run_high_priority.c)

test sleep_high_priority PASSED (20 of 20)
 (check if low priority processes run when high priority is put to sleep 
 The corresponding test file is at https://gitlab.com/AOSUC/Lab/Tests/P2/sleep_high_priority.c)

test awake_high_priority PASSED (20 of 20)
 (check if only high priority process run when high priority is awake from sleep 
 The corresponding test file is at https://gitlab.com/AOSUC/Lab/Tests/P2/awake_high_priority.c)

test multiple_high_priority PASSED (20 of 20)
 (check if multiple high priority processes run in round robin 
 The corresponding test file is at https://gitlab.com/AOSUC/Lab/Tests/P2/multiple_high_priority.c)

Passed 11 of 11 tests.
Overall 11 of 11
Points 180 of 180
